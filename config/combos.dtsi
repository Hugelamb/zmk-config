/*
  ╭────────────────────┬────────────────────╮ ╭─────────────────────┬─────────────────────╮
  │  0   1   2   3   4 │  5   6   7   8   9 │ │ LT4 LT3 LT2 LT1 LT0 │ RT0 RT1 RT2 RT3 RT4 │
  │ 10  11  12  13  14 │ 15  16  17  18  19 │ │ LM4 LM3 LM2 LM1 LM0 │ RM0 RM1 RM2 RM3 RM4 │
  │ 20  21  22  23  24 │ 25  26  27  28  29 │ │ LB4 LB3 LB2 LB1 LB0 │ RB0 RB1 RB2 RB3 RB4 │
  ╰───────────╮ 30  31 │ 32  33 ╭───────────╯ ╰───────────╮ LH1 LH0 │ RH0 RH1 ╭───────────╯
              ╰────────┴────────╯                         ╰─────────┴─────────╯             */


#define COMBO(NAME, BINDINGS, KEYPOS, LAYERS, TERM, QUICKTAP, ...) \
    combo_##NAME { \
        timeout-ms = <TERM>; \
        bindings = <BINDINGS>; \
        key-positions = <KEYPOS>; \
        layers = <LAYERS>; \
        require-prior-idle-ms = <QUICKTAP>; \
        __VA_ARGS__ \
        };

/ {
    combos {
        compatible = "zmk,combos";

COMBO(tab,      &kp TAB,     LM3 LM1, DEF COL SYM,      40, 150)
COMBO(lpar,     &kp LPAR,    LM2 LM1,     DEF COL,      40, 100)
COMBO(rpar,     &kp RPAR,    RM1 RM2,     DEF COL,      40, 100)
COMBO(lbkt,     &kp LBKT,    LM3 LM2,     DEF COL,      40, 100)
COMBO(rbkt,     &kp RBKT,    RM2 RM3,     DEF COL,      40, 100)
COMBO(del,      &kp DEL,     RM1 RM3,     DEF COL SYM,  40, 150)
COMBO(esc,      &kp ESC,     LM3 LM2 LM1, DEF COL SYM,  40,  50)
COMBO(ret,      &kp RET,     RM1 RM2 RM3, DEF COL SYM,  40,  50)
COMBO(bslh,     &kp BSLH,    RB1 RB2,     DEF COL SYM,  80, 100)
COMBO(slsh,     &kp SLASH,   RB2 RB3,     DEF COL SYM,  80,  50)

COMBO(capswd,   &caps_word,  LM1 RM1,     DEF COL,      60, 200)

    };
};